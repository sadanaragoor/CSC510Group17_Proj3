{% extends "base.html" %}
{% block title %}Customer/User Register{% endblock %}
{% block content %}
<h2 style="color: #e67e22">Customer/User Register New Account</h2>
<form method="POST">
  <label for="username">Username:</label>
  <input type="text" id="username" name="username" required>
  
  <label for="password">Password:</label>
  <input type="password" id="password" name="password" required>

  <!-- NEW: Dietary Preferences (multi-select) -->
  <label>Dietary Preferences (optional):</label>
  <div style="margin-bottom: 10px; display: flex; flex-wrap: wrap; gap: 10px;">
    <label style="font-size: 0.95em;">
      <input type="checkbox" name="dietary_preferences" value="vegan">
      Vegan
    </label>
    <label style="font-size: 0.95em;">
      <input type="checkbox" name="dietary_preferences" value="gluten_free">
      Gluten-free
    </label>
    <label style="font-size: 0.95em;">
      <input type="checkbox" name="dietary_preferences" value="low_calorie">
      Low calorie (≤ 80 cal)
    </label>
    <label style="font-size: 0.95em;">
      <input type="checkbox" name="dietary_preferences" value="high_protein">
      High protein (≥ 15 g)
    </label>
    <label style="font-size: 0.95em;">
      <input type="checkbox" name="dietary_preferences" value="no_preference">
      No preference
    </label>
  </div>

  {% if current_user.is_authenticated and current_user.role == 'admin' %}
  <label for="role">Role:</label>
  <select name="role" id="role">
    <option value="customer">Customer</option>
    <option value="staff">Staff</option>
    <option value="admin">Admin</option>
  </select>
  {% endif %}

  <input type="submit" value="Register Account">
</form>
{% endblock %}
